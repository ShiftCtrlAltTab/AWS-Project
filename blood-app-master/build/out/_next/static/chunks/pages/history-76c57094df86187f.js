(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{484:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return s(219)}])},219:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(5893),o=s(8536),r=s(7593),d=(0,s(7680).Z)((0,a.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.25 2.52.77-1.28-3.52-2.09V8z"}),"HistoryOutlined"),n=s(1441),i=s(7484),l=s.n(i),u=s(7294),h=function(){let[e,t]=(0,u.useState)(),[s,i]=(0,u.useState)(),{user:h}=(0,o.a)(),c=()=>{fetch("".concat(r._,"/api/approvalRequest/getRequestsByUser/blood_requests"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}}).then(e=>e.json()).then(e=>{console.log(e),t(e.requests)})},p=()=>{fetch("".concat(r._,"/api/approvalRequest/getRequestsByUser/donations"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}}).then(e=>e.json()).then(e=>{console.log(e),i(e.requests)})};return(0,u.useEffect)(()=>{(null==h?void 0:h.userType)=="user"&&(c(),p())},[h]),(0,a.jsx)("div",{children:(null==h?void 0:h.userType)=="user"&&(0,a.jsxs)("div",{className:"p-10 flex flex-col gap-5",children:[(0,a.jsxs)("h2",{className:"font-semibold text-xl flex gap-2 items-center",children:[(0,a.jsx)("span",{children:"Recent Requests"}),(0,a.jsx)(d,{})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-red-500 text-xl",children:"Blood Requests"}),(0,a.jsx)(n._,{rows:e,columns:[{field:"bloodGroup",headerName:"Blood Group",width:150},{field:"dob",headerName:"Date of Birth",width:150},{field:"disease",headerName:"Disease",width:150},{field:"approval_request_status",headerName:"Status",width:150},{field:"date",headerName:"Date",width:150,renderCell:e=>l()(e.row.date).format("YYYY-MM-DD")}],getRowId:e=>e.requestId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-red-500 text-xl",children:" Donations Requests"}),(0,a.jsx)(n._,{rows:s,columns:[{field:"bloodGroup",headerName:"Blood Group",width:150},{field:"dob",headerName:"Date of Birth",width:150},{field:"disease",headerName:"Disease",width:150},{field:"approval_request_status",headerName:"Status",width:150},{field:"date",headerName:"Date",width:150,renderCell:e=>l()(e.row.date).format("YYYY-MM-DD")}],getRowId:e=>e.requestId})]})]})})}}},function(e){e.O(0,[650,374,441,888,774,179],function(){return e(e.s=484)}),_N_E=e.O()}]);