(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9938)}])},9938:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(5893),n=s(8536),o=s(7593),l=(0,s(7680).Z)((0,a.jsx)("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8m3 16H9v-2h6zm0-5h-2v2h-2v-2H9v-2h2V9h2v2h2z"}),"Bloodtype"),r=s(9505);s(7484);var c=s(1163),i=s(7294);function d(){let[e,t]=(0,i.useState)(1e3),[s,d]=(0,i.useState)([]),{user:p}=(0,n.a)(),h=(0,c.useRouter)(),u=()=>{let e={method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},redirect:"follow"};fetch("".concat(o._,"/api/dashboard/getDashboardInfo"),e).then(e=>e.json()).then(e=>{200===e.status&&t(e.data),console.log(e)}).catch(e=>console.error(e))},x=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim(),m=()=>{fetch("".concat(o._,"/api/bloodSample/getAllBloodSamples"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}}).then(e=>e.json()).then(e=>{d(e.bloodSamples)})};return(0,i.useEffect)(()=>{u(),m(),p||h.push("/login")},[p]),(0,a.jsxs)("div",{children:[(null==p?void 0:p.userType)=="admin"&&(0,a.jsx)("div",{className:"flex flex-wrap gap-5 p-10",children:Object.keys(e).map(t=>(0,a.jsxs)("div",{className:"shadow p-4 w-44",children:[(0,a.jsx)("h3",{className:"",children:x(t)}),(0,a.jsx)("p",{children:e[t]})]},t))}),(0,a.jsx)("div",{className:"flex flex-wrap gap-5 p-10 ",children:null==s?void 0:s.map((e,t)=>(0,a.jsxs)("div",{className:"shadow p-4 w-44",children:[(0,a.jsxs)("div",{className:"flex justify-between py-3",children:[(0,a.jsxs)("span",{className:"text-3xl text-green-500",children:[e.units,(0,a.jsx)("span",{className:"text-sm text-gray-500",children:" units"})]}),(0,a.jsx)(l,{className:"text-4xl text-red-500"})]}),(0,a.jsx)(r.Z,{}),(0,a.jsx)("p",{className:"pt-2 font-semibold text-red-500",children:e.blood_type})]},t))})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);