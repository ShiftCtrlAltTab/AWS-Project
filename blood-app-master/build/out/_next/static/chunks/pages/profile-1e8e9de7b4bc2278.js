(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a(5146)}])},5146:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return m}});var n=a(5893),t=a(7294),i=a(8536);a(271);var s=a(1093),r=a(4e3),o=a(8163),d=a(7409),u=a(7484),c=a.n(u);function m(){let{user:e,updateUser:l}=(0,i.a)(),[a,u]=(0,t.useState)({email:null==e?void 0:e.email,first_name:null==e?void 0:e.first_name,last_name:null==e?void 0:e.last_name,dob:c()(new Date(null==e?void 0:e.dob)).format("YYYY-MM-DD")}),[m,f]=(0,t.useState)(""),[h,v]=(0,t.useState)("");(0,t.useEffect)(()=>{console.log(e),u({email:null==e?void 0:e.email,first_name:null==e?void 0:e.first_name,last_name:null==e?void 0:e.last_name,dob:c()(new Date(null==e?void 0:e.dob)).format("YYYY-MM-DD")})},[e]);let x=e=>{let l=e.target.value;("first_name"==e.target.name||"last_name"==e.target.name)&&(l=l.replace(/[^a-zA-Z ]/g,"")),u({...a,[e.target.name]:l})},_=async e=>{e.preventDefault();let{email:n,...t}=a;try{l(t).then(()=>{v("Profile updated successfully")})}catch(e){f("Failed to update profile")}};return e?(0,n.jsxs)("div",{className:"flex flex-col items-center pt-5",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:"Profile"}),a&&(0,n.jsxs)("form",{onSubmit:_,className:"space-y-4 min-w-64 flex flex-col ",children:[m&&(0,n.jsx)(s.Z,{severity:"error",children:m}),h&&(0,n.jsx)(s.Z,{severity:"success",children:h}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"Email"}),(0,n.jsx)(r.Z,{type:"email",name:"email",value:a?null==a?void 0:a.email:"",disabled:!0,fullWidth:!0,required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"First Name"}),(0,n.jsx)(r.Z,{type:"text",name:"first_name",value:null==a?void 0:a.first_name,onChange:x,fullWidth:!0,required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"Last Name"}),(0,n.jsx)(r.Z,{type:"text",name:"last_name",value:null==a?void 0:a.last_name,onChange:x,fullWidth:!0,required:!0})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{children:"Date of Birth"}),(0,n.jsx)(d.M,{className:"bg-white",format:"MMMM DD,YYYY",name:"dob",value:(null==a?void 0:a.dob)?c()(null==a?void 0:a.dob):c()(),onChange:e=>u({...a,dob:e.format("YYYY-MM-DD")})})]}),(0,n.jsx)(o.Z,{type:"submit",variant:"outlined",color:"error",children:"Update Profile"})]})]}):(0,n.jsx)("p",{children:"Please login to view your profile."})}}},function(e){e.O(0,[650,374,58,342,888,774,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);